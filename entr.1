.\"
.\" Copyright (c) 2012 Eric Radman <ericshane@eradman.com>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: July 29 2012 $
.Dt ENTR 1
.Os
.Sh NAME
.Nm entr
.Nd run arbitrary commands when files change
.Sh SYNOPSIS
.Nm entr
.Ar utility
.Op Ar arguments ...
.Os
.Nm entr
.Ar +fifo
.Os
.Sh DESCRIPTION
.Nm
has two modes of operation; the first use reads a list of files provided on STDIN
and executes the supplied
.Nm utility
if any of them change.
.Nm
waits for the child process to finish before responding to subsequent file
system events. A TTY is opened before entering the watch loop in order to
support the invocation of interactive utilities.
.Pp
The second mode also reads a list of filenames provided on STDIN and is enabled
by specifying '+' and the name of a fifo. In this mode
.Nm
enables more sophisticated scripting by writing filenames to a named pipe when
they are modified.
.Os
.Sh EXIT STATUS
The
.Nm
utility does not normally return, but it will exit with a value of 0 if the
signal
.Dv SIGINT
was received.
.Os
.Sh EXAMPLES
.Pp
Recompile if header files change
.Pp
.Dl $ find . -name '*.h' | entr make
.Pp
Run tests if any file in the current directory changes, only printing STDERR
.Pp
.Dl $ echo '.' | entr sh -c './test.sh > /dev/null'
.Pp
Convert any altered Markdown in the current directory to HTML using a FIFO
.Pp
.Dl $ ls *.md | entr +notify &
.Dl $ cat notify | while read F;
.Dl > do
.Dl >   markdown2html $F
.Dl > done
.Os
